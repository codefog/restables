/**
 * resTables - jQuery plugin for responsive tables
 * Copyright (C) 2011-2016 Codefog
 * @author  Codefog <http://codefog.pl>
 * @author  Kamil Kuzminski <kamil.kuzminski@codefog.pl>
 * @license MIT
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e,i){this.element=t(e),this.settings=t.extend({},s,i),this._defaults=s,this._name=n,this.init()}var n="resTables",s={merge:{},move:{},skip:[],span:[],cssClassOrigin:"restables-origin",cssClassClone:"restables-clone",uniqueAttributes:["id","for"],attributeSuffix:"-restables-clone",cloneCallback:null};t.extend(e.prototype,{init:function(){this.buildStructure(),this.mergeColumns(),this.settings.span.length>0&&this.spanColumns(),this.moveColumns(),this.settings.skip.length>0&&this.skipColumns(),this.generateTable()},buildStructure:function(){var e=this;e.headers=[],e.element.find("thead").find("th").each(function(){e.headers.push(t(this).html())}),e.structure=[],e.element.find("tbody").find("tr").each(function(){var n=[];t(this).find("td").each(function(s){n.push([e.headers[s],t(this).html().trim()])}),e.structure.push(n)})},mergeColumns:function(){var t=this;for(var e in t.settings.merge)t.structure.forEach(function(n,s){t.settings.merge[e].forEach(function(n){t.structure[s][e][1]+=t.structure[s][n][1],t.structure[s].splice(n,1)})})},moveColumns:function(){var t=this;for(var e in t.settings.move)t.structure.forEach(function(n,s){t.structure[s].splice(t.settings.move[e],0,t.structure[s].splice(e,1)[0])})},skipColumns:function(){var e=this;e.structure.forEach(function(n,s){e.structure[s]=e.structure[s].filter(function(n,s){return t.inArray(s,e.settings.skip)===-1})})},spanColumns:function(){var t=this;t.structure.forEach(function(e,n){t.settings.span.forEach(function(e){t.structure[n][e]=[t.structure[n][e][1]]})})},generateTable:function(){var e=this,n=t(e.element[0].cloneNode(!1));e.structure.forEach(function(e){var s=t("<tbody/>");e.forEach(function(e){var n=t("<tr/>"),i=t("<td/>").html(e[0]).appendTo(n);e.hasOwnProperty(1)?n.append(t("<td/>").html(e[1])):i.attr("colspan",2),n.appendTo(s)}),s.appendTo(n)}),e.settings.uniqueAttributes.length>0&&e.makeAttributesUnique(n),"function"==typeof e.settings.cloneCallback&&e.settings.cloneCallback(n),n.addClass(e.settings.cssClassClone).insertAfter(e.element.addClass(e.settings.cssClassOrigin))},makeAttributesUnique:function(e){var n=this,s=[];n.settings.uniqueAttributes.forEach(function(t){s.push("["+t+"]")}),e.find(s.join(",")).each(function(){var e=t(this);n.settings.uniqueAttributes.forEach(function(t){e.attr(t)&&e.attr(t,e.attr(t)+n.settings.attributeSuffix)})})}}),t.fn[n]=function(s){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new e(this,s))})}});